#!/usr/bin/env node
var argv = require('optimist').argv
var path = require('path')

function underline(s) {
  return '\x1B[4m' + s + '\x1B[24m'
} 

if (argv.h || argv.help) {

  console.log([

    underline('DATA'),

    '--protocol <p>  specify the protocol where `p` is `tls` or `tcp`',
    '--client <n>    the port to connect to as a client, `n` is a port',
    '--server <n>    the port to make available as a server, `n` is a port',
    '--newline       alternatively receive newline delimited streams.',
    '',

    underline('USER INTERFACE'),

    '--http <n>      a port for the UI server to run on, defaults to 8080',
    '--https <n>     same as http, but secure',
    '--host <h>      ip or hostname for the web server if not localhost',
    '--auth          use authentication',
    ''

  ].join('\n'))

  process.exit(0)
}
else {

  require('../lib').Server(argv)
}
